## Change colors when running R in the terminal
if (Sys.getenv("TERM") == "xterm-256color" &&
    requireNamespace("crayon", quietly = TRUE)) {
  suppressPackageStartupMessages(library("crayon"))
}
options(Ncpus = 2)

options(repos = c(
  CRAN = "https://cran.rstudio.com/",
  BioCsoft = tools:::.read_repositories(file.path(R.home("etc"), "repositories"))["BioCsoft","URL"],
  INLA = "https://inla.r-inla-download.org/R/stable"
))

# options(error = function() {
#   if (interactive()) {
#     geterrmessage()
#   } else {re
#     RPushbullet::pbPost("note", "R Error", geterrmessage())
#   }
# })

if (requireNamespace("rlang", quietly = TRUE)) {
  options(error = rlang::entrace,
          rlang_backtrace_on_error = "branch") # or "collapse" or "full"
}

if (requireNamespace("tibble", quietly = TRUE)) {
  print.data.frame <- function(x, ...) {
    if (interactive()) {
      print(tibble::as_tibble(x), ...)
    } else {
      print(x, ...)
    }
  }
}
if (!requireNamespace("aws.signature", quietly = TRUE)) {
  aws.signature::use_credentials()
}

options(
  usethis.full_name = "Noam Ross"
)


